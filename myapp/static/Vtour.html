<html>
<head>
    <title>VR編集</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <meta http-equiv="x-ua-compatible" content="IE=edge"/>
    <style>
        @-ms-viewport {
            width: device-width;
        }

        @media only screen and (min-device-width: 800px) {
            html {
                overflow: hidden;
            }
        }

        html {
            height: 100%;
        }

        body {
            height: 100%;
            overflow: hidden;
            margin: 0;
            padding: 0;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 16px;
            color: #FFF;
            background-color: #000;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="../static/skin/style/krpano.editor.css" />
</head>
<body>
<script type="text/javascript" src="../static/js/tour.js"></script>
<div id="pano" style="width:100%;height:100%;">
    <noscript>
        <table style="width:100%;height:100%;">
            <tr style="vertical-align:middle;">
                <td>
                    <div style="text-align:center;">ERROR:<br/><br/>Javascript not activated<br/><br/></div>
                </td>
            </tr>
        </table>
    </noscript>
    <script>
      //var url = window.location.search;
      //var userId = url.split('=')[1];
      //var recordId = url.split('=')[2];
      embedpano({
        //swf: "/" + userId + "/"  + recordId + "/tour.swf",
        //xml: "/" + userId + "/"  + recordId + "/tour.xml",
        swf: "../static/1/2/vtour/tour.swf",
        xml: "../static/1/2/vtour/tour.xml",
        target: "pano",
        html5: "auto",
        mobilescale: 1.0,
        passQueryParameters: true
      });
    </script>
  </div>
</div>
<div class="frame editGroup" name="#viewFrame" style="display:none;">
    <button onclick="setAsDefaultView()" class="btn btn-blue">視点1設定</button>
    <button onclick="setAsDefaultView2()" class="btn btn-blue" style="position: absolute;top: 66%">視点2設定</button>
    <div class="frame-line frame-line-top"></div>
    <div class="frame-line frame-line-right"></div>
    <div class="frame-line frame-line-bottom"></div>
    <div class="frame-line frame-line-left"></div>
    <span class="angle angle-tl"><i class="angle-a"></i><i class="angle-b"></i></span>
    <span class="angle angle-tr"><i class="angle-a"></i><i class="angle-b"></i></span>
    <span class="angle angle-bl"><i class="angle-a"></i><i class="angle-b"></i></span>
    <span class="angle angle-br"><i class="angle-a"></i><i class="angle-b"></i></span>
</div>
<div class="frame editGroup" name="#DirectionFrame" style="display:none;">
    <button onclick="setDirection()" class="btn btn-blue">北向き設定</button>
    <div class="frame-line frame-line-top"></div>
    <div class="frame-line frame-line-right"></div>
    <div class="frame-line frame-line-bottom"></div>
    <div class="frame-line frame-line-left"></div>
    <span class="angle angle-tl"><i class="angle-a"></i><i class="angle-b"></i></span>
    <span class="angle angle-tr"><i class="angle-a"></i><i class="angle-b"></i></span>
    <span class="angle angle-bl"><i class="angle-a"></i><i class="angle-b"></i></span>
    <span class="angle angle-br"><i class="angle-a"></i><i class="angle-b"></i></span>
</div>
<div class="overlay overlay-right">
    <div class="save-wrap" >
        <button onclick="save()"  id="isEdited" style="font-size: 15px;width: 96px;height: 37px" class="btn btn-blue">保 存 済</button>
    </div>
    <div class="tool-panel">
        <ul class="tool-btn-lst">
            <li>
                <span class="btn J-tool-btn" id = "viewFrameBtn" onclick="showEditPanel('#viewFrameBtn','[name=#viewFrame]')">視点設定</span>
                <div class="tool-main editGroup" name="#viewFrame">
                    <section class="tool-section">
                        <div style="margin: 5px;">
     						 <label style="vertical-align: middle;" for="autoSpin">自動回転</label>
                            <input type="checkbox" name="autoSpin" id="autoSpin" style="vertical-align: middle;"
                                   onclick="autoSpinClick()"/>
                            <input type="radio" name="direction" id="directionLift" value="-5.0"
                                   style="vertical-align: middle;margin-left: 10px" onclick="autoSpinClick()">
                            <label for="directionLift" style="vertical-align: middle;">左</label>
                            <input type="radio" name="direction" id="directionRight" value="5.0"
                                   style="vertical-align: middle;"  onclick="autoSpinClick()">
                            <label for="directionRight" style="vertical-align: middle;">右回転</label>
                        </div>
                        <div id="waitTimeInput" style="display: none;margin: 5px;">
                            <label style="padding-right: 5px;vertical-align: middle;" for="waitTime">待ち時間</label>
                            <input type="text" class="wait-time-input" id="waitTime" onblur="autoSpinClick()"/>
                            <label style="padding-left: 5px">秒</label>
                        </div>
                        <div style="margin: 5px;">
                            <label>（すべてのシナリオに適用）</label>
                        </div>
                    </section>
                    <section class="tool-section">
                    	 
                        <div style="margin: 5px;">
                            <label>初始ズーム
                                <input type="text" disabled="disabled" class="fov-input" id="initFov"/>
                            </label>
                        </div>
                        
						<section id="sample-pb">
                            <article>
                                <div class="number-pb">
                                    <div class="number-pb-shown" style="display: none">
                                        <div class="triangle triangle-down"></div>
                                        <!--<div class="triangle triangle-up-left" style="float: left;"></div>
                                        
                                        <div class="triangle triangle-up-right" style="float: right;"></div>
                                        -->
                                    </div>
                                    <div class="number-pb-num" style="left: 70%;">
                                    </div>
                                </div>
                            </article>
                        </section>
	                    
                        <div style="margin: 5px;">
                            <label>ズーム下限
                                <input type="text" class="fov-input" id="initFovMin" onblur="updateFov()"/>
                            </label>
                        </div>
                        <div style="margin: 5px;">
                            <label>ズーム上限
                                <input type="text" class="fov-input" id="initFovMax" onblur="updateFov()"/>
                            </label>
                        </div>
                        
                        
                        <div style="margin: 5px;">
                            <input type="button" style="vertical-align: middle;" value="すべてのシナリオに適用" class="btn btn-blue"
                                   onclick="fovForAll()"/>
                        </div>
                    </section>
                </div>
            </li>
            <li>
                <span class="btn J-tool-btn" id = "toolHotBtn" onclick="showEditPanel('#toolHotBtn','[name=#toolHot]')">スポット</span>
                <div class="tool-main editGroup" name = "#toolHot">
                    <!-- 
                    <section class="tool-section">
                        <h3 style="margin-bottom: 5px;">スポットタイプ</h3>
                        <button class="btn btn-blue">シーンチェンジ</button>
                    </section>
                     -->
                    <section class="tool-section">
                        <h3 style="margin-bottom: 5px;">スポット一覧</h3>
                        <ul>
                            <div id="hotSpotList"></div>
                            <script id="tplHotSpotList" type="text/html">
                                {{each list as eachSpot}}
                                <div class="hot-spot-list" name="{{eachSpot.name}}Hover">
                                    <div class="hot-spot-img" style="background-image: url('{{eachSpot.url}}')"
                                         spot-style="{{eachSpot.style}}"></div>
                                    <div class="hot-spot-text" style="font-size:13px;"><div style="margin-top: 6px;">{{eachSpot.title}}</div></div>
                                    <div class="hot-spot-del" onclick="removeHotSpot('{{eachSpot.name}}')">-</div>
                                </div>
                                {{/each}}
                            </script>
                        </ul>
                        <button class="hot-spot-button" onclick="showAddHotSpot()">+</button>
                    </section>
                </div>
            </li>
			<li>
                <span class="btn" id = "scenceBtn" onclick="showScencePanel();" style="padding: 8px 13px;">初期シーン</span>
			</li>
            <li>
                <span class="btn J-tool-btn" id = "DirectionBtn" onclick="showEditPanel('#DirectionBtn','[name=#DirectionFrame]');">方向設定</span>
            </li>
        </ul>
    </div>
</div>
<div class="left-column">
    <div class="scene-select">
        <div class="blue-banner"></div>
        <div class="select_scene_text">
            <p class="p_title">初期シーン設定</p>
        </div>
        <div class="blue-banner"></div>
        <ul style="margin: 0;padding: 0;">
            <div id="sceneList"></div>
            <script id="tplSceneList" type="text/html">
                {{each list as scene}}
                	<li key="{{scene.index}}" name="{{scene.name}}" class="li-scene">
						<div class="thumbs-img-scene-list"
							style='background-image: url("{{scene.thumburl}}")'></div>
                        <div class="li-scene-span" onclick="changeScene({{scene.index}})">{{scene.title}}</div>
						<!--
							//<input type="hidden" value="{{scene.title}}" class="li-scene-input" onblur="doRename($(this))"/>
							//<input type="button" class="scene-li-button" onclick="rename($(this).prev())"/>
						-->
						<div class="circle" onclick="selectWelcomeScene({{scene.index}})"></div>
                </li>
                {{/each}}
            </script>
        </ul>
    </div>
</div>
<div class="add-hot-pot" style="display: none;height: 410px;">
    <div class="add-hot-banner">シーンチェンジスポット追加<a class="div-close" onclick="hideAddHotSpot()">×</a></div>
    <div class="progress-banner">
        <div class="progress-title progress-title-on" id="selectStyleTitle"><span style="line-height: 30px">スタイル選択</span>
        </div>
        <div class="progress-title" id="goToSceneTitle"><span style="line-height: 30px">対象シーン選択</span></div>
        <div class="progress-title" id="writeTitleTitle"><span style="line-height: 30px">オプション選択</span></div>
    </div>
    <!--div>
        
        <div class="my-open-out">
            <div class="my-open-in my-open-in-open"></div>
        </div>
    </div-->
    <div id="selectStyle" class="add-hot-content">
        <div class="add-hot-bottom-div">
        	<div class="hot-style" style="background-image: url('../static/skin/img/spotd1_gif.png')"
                 name="hotspot_3"></div>
            <div class="hot-style" style="background-image: url('../static/skin/img/spotd2_gif.png')"
                 name="hotspot_4"></div>
            <div class="hot-style" style="background-image: url('../static/skin/img/spotd3_gif.png')"
                 name="hotspot_5"></div>
            <div class="hot-style" style="background-image: url('../static/skin/img/spotd4_gif.png')"
                 name="hotspot_6"></div>
            <div class="hot-style" style="background-image: url('../static/skin/img/spotd5_gif.png')"
                 name="hotspot_7"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd12_gif.png')"
                 name="hotspot_19"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd1_gif.png')"
                 name="hotspot_8"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd2_gif.png')"
                 name="hotspot_9"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd3_gif.png')"
                 name="hotspot_10"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd4_gif.png')"
                 name="hotspot_11"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd5_gif.png')"
                 name="hotspot_12"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd6_gif.png')"
                 name="hotspot_13"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd7_gif.png')"
                 name="hotspot_14"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd8_gif.png')"
                 name="hotspot_15"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd9_gif.png')"
                 name="hotspot_16"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd10_gif.png')"
                 name="hotspot_17"></div>
            <div class="hot-style"
                 style="background-image: url('../static/skin/img/new_spotd11_gif.png')"
                 name="hotspot_18"></div>
            <div class="hot-style"
                 name="hotspot_txt"><div style="position: relative;line-height:20px;top:13px;text-align:center;">テキスト<br>入力</div></div>
        　   <div class="hot-style"
                 name="hotspot_url"><div style="position: relative;line-height:20px;top:13px;text-align:center;">URL<br>入力</div></div>
        </div>
		
        <div class="add-hot-button" onclick="nextToSelectTargetScene()">次のステップへ</div>
    </div>
    <div id="goToScene" class="add-hot-content" style="display: none">
        <div class="add-hot-bottom-div">
            <div id="targetScene"></div>
            <script id="tplTargetScene" type="text/html">
                {{each list as each}}
                <div class="select-scene-div" name="{{each.name}}">
                    {{each.title}}
                    <div class="thumbs-img" style='background-image: url("{{each.thumburl}}")'></div>
                </div>
                {{/each}}
            </script>
        </div>
        <div class="add-hot-button" onclick="nextToWriteTitle()">次のステップへ</div>
    </div>
    <div id="writeTitle" class="add-hot-content write-title" style="display: none">
        <div class="add-hot-bottom-div">
            <div style="width: 100%;height: 17%;">
                <div style="width: 40%;height: 7.5%;float: left;background-color: #00a3d8;margin-top: 11px"></div>
                <div style="width: 20%;height: 100%;float: left"><p style="width:100%;font-weight: bold" ><label id="text" style="text-align: center" for="addHotTitle"></label></p></div>
                <div style="width: 40%;height: 7.5%;float: right;background-color: #00a3d8;margin-top: 11px"></div>
            </div>
            <div id="fontsizeselect" style="margin-top: 10px">
                <span style="display: inline;width: 100px;margin-right: 7px">
                    <input type="radio" id="fontsmall" name="radiosize" id="radio3" value="_small">
                    <label for="fontsmall" style="color: white">小</label>
                </span>
                <span style="display: inline;width: 100px;margin-left: 7px">
                    <input type="radio" id="fontnormal" name="radiosize" id="radio4" value="_normal" checked="checked">
                    <label for="fontnormal" style="color: white">中</label>
                </span>
                <span style="display: inline;width: 100px;margin-left: 14px">
                    <input type="radio" id="fontbig" name="radiosize" id="radio5" value="_big">
                    <label for="fontbig" style="color: white">大</label>
                </span>
            </div>
			<div id="fontcolorselect" style="padding: 5px">
				<span style="display: inline-block;width: 100px;">
					<input type="radio" id="fontwhite" name="radiogroup" id="radio1" value="_white" checked="checked">
					<label for="fontwhite" style="color:white;">白文字</label>
				</span>
				<span style="display: inline-block;width: 100px;">
					<input type="radio" id="fontblack" name="radiogroup" id ="radio2" value="_black">
					<label for="fontblack" style="font-weight: bold;color:#645858;">黒文字</label>
				</span>
			</div>
            <input type="text" id="addHotTitle"/>
            <div id="viewChange" style="display: none;height: 30%;margin-top: 10px">
                <div style="width: 100%;height: 34%;">
                    <div style="width: 40%;height: 12%;float: left;background-color: #00a3d8;margin-top: 11px"></div>
                    <div style="width: 20%;height: 100%;float: left"><p style="width:100%;font-weight: bold" ><label id="viewText" style="text-align: center" for="viewChange"></label></p></div>
                    <div style="width: 40%;height: 12%;float: right;background-color: #00a3d8;margin-top: 11px"></div>
                </div>
                <div style="margin-top: 20px">
                	<span style="display: inline-block;width: 100px;">
					<input type="radio" id="view01" name="radioview" id="radio6" value="" checked="checked">
					<label for="view01" style="color:white;">視点1</label>
				</span>
                <span style="display: inline-block;width: 100px;">
					<input type="radio" id="view02" name="radioview" id ="radio7" value="_view">
					<label for="view02" style="color:white;">視点2</label>
				</span>
                </div>
            </div>
			<div id="urlselect"style="height: 30%;margin-top: 3%">
                <div style="width: 100%;height: 34%;">
                    <div style="width: 40%;height: 12%;float: left;background-color: #00a3d8;margin-top: 11px"></div>
                    <div style="width: 20%;height: 100%;float: left"><p style="width:100%;font-weight: bold" ><label id="urlText" style="text-align: center" for="addHotUrl"></label></p></div>
                    <div style="width: 40%;height: 12%;float: right;background-color: #00a3d8;margin-top: 11px"></div>
                </div>
				<input type="text" style="margin-top: 3%" id="addHotUrl"/>
			</div>
        </div>
        <div class="add-hot-button" onclick="addHotSpot()">確　定</div>
    </div>
</div>

<div class="messagepanel" style="display: none">
	<div class="messagepanel messagepanel_panel" style="display: none">
		<div class="md-content">
			<h3 id= "title">VR編集</h3>
			<div>
				<p id= "message">設定内容を保存しました。</p>
			</div>
			<button onclick="refresh()" class="btn btn-blue" style="margin-right: 80px;width:100px;">確　定</button>
		</div>
    </div>
</div>
<script type="text/javascript" src="../static/js/jQuery-2.1.4.min.js"></script>
<script type="text/javascript" src="../static/js/krpano.editor.js"></script>
<script type="text/javascript" src="../static/js/template.min.js"></script>
</body>
</html>